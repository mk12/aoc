# Copyright 2022 Mitchell Kember. Subject to the MIT License.
# Advent of Code 2022
# Day 9: Rope Bridge

âŸ¨Lines, NâŸ© â† â€¢Import "common.bqn"

# List of dxâ€¿dy head movements, expanded to use only 0 and Â±1.
steps â† âˆ¾((N 2âŠ¸â†“)â¥ŠÂ·<(âˆ¾âŸœ-=âŒœËœâ†•2)âŠËœ"RULD"âŠâŠ‘)Â¨ Lines "2022_09"

# Updates tail ğ•© to follow head ğ•¨.
F â† âŠ¢+(âˆ¨Â´2â‰¤Â·|-)Ã—Â¯1âŒˆ1âŒŠ-

# Moves the head of rope ğ•© by w and updates all tail knots.
M â† F`<âŠ¸(+âŒ¾âŠ‘)

# List of successive 10-knot ropes during the simulation.
x â† (<10â¥Š<0â€¿0)MËœ`steps

# Part 1
â€¢Out â‰ â·1âŠÂ¨x

# Part 2
â€¢Out â‰ â·Â¯1âŠÂ¨x
